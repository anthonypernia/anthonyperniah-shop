(this["webpackJsonpanthony-shop"]=this["webpackJsonpanthony-shop"]||[]).push([[0],{42:function(t,e,n){},50:function(t,e,n){},54:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var c=n(5),a=n.n(c),r=n(33),s=n.n(r),i=(n(50),n(16)),o=n(25),l=n(11);var d=n(0),u=n.n(d),j=n(4),b=n(43),m=n(13);Object(b.a)({apiKey:"AIzaSyBLaB9SoWQNguF9JEsXu8h7VlPiUYwWcVk",authDomain:"anthonyperniah-shop.firebaseapp.com",projectId:"anthonyperniah-shop",storageBucket:"anthonyperniah-shop.appspot.com",messagingSenderId:"176965251790",appId:"1:176965251790:web:cdf05be302850b69bcd69f"});var h=function(){return Object(m.e)()},p=function(){var t=Object(j.a)(u.a.mark((function t(e,n,c){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m.a)(Object(m.b)(h(),"orders"),e);case 3:a=t.sent,console.log("Document written with ID: ",a.id),r=Object(i.a)(Object(i.a)({},e),{},{id:a.id}),n(r),c(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error adding document: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n,c){return t.apply(this,arguments)}}(),O=function(){var t=Object(j.a)(u.a.mark((function t(e,n){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=Object(m.b)(h(),"orders"),t.next=4,Object(m.g)(Object(m.c)(c,e.id),e);case 4:n(!1),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error adding document: ",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}(),x=function(t,e,n,c,a,r,s){s(!0);var i={};i.name=r.name,i.phone=r.phone,i.email=r.email,i.dateOrder=new Date,i.totalPrice=a(),n.status=t,n.buyer=i,n.items=[];try{e.forEach((function(t){var e={};e.title=t.title,e.price=t.price,e.quantity=t.quantity,n.items.push(e)}))}catch(o){}console.log("---creator--\x3e",n),n.id.length>2?O(n,s):p(n,c,s)},f=n(2),v=a.a.createContext({}),g=function(t){var e=t.children,n=function(t,e){var n=a.a.useState(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=a.a.useState(e),o=Object(l.a)(i,2),d=o[0],u=o[1];return a.a.useEffect((function(){setTimeout((function(){try{var n,c=localStorage.getItem(t);c?n=JSON.parse(c):(localStorage.setItem(t,JSON.stringify(e)),n=[]),u(n)}catch(r){s(!0)}}),1e3)}),[]),{items:d,saveItems:function(e){try{var n=JSON.stringify(e);localStorage.setItem(t,n),u(e)}catch(r){s(!0)}},error:r}}("cart",[]),c=n.items,r=n.saveItems,s=a.a.useState({name:"",email:"",phone:""}),d=Object(l.a)(s,2),u=d[0],j=d[1],b=a.a.useState(!1),m=Object(l.a)(b,2),h=m[0],p=m[1],O=a.a.useState(!0),g=Object(l.a)(O,2),y=g[0],N=g[1],C=a.a.useState(!1),w=Object(l.a)(C,2),k=w[0],S=w[1],P=a.a.useState({id:""}),F=Object(l.a)(P,2),I=F[0],T=F[1],E=function(t){x("pending",t,I,T,q,u,N)},q=function(){var t=0;return c.forEach((function(e){t+=e.price*e.quantity})),t};return Object(f.jsx)(v.Provider,{value:{products:c,addProduct:function(t){var e=Object(o.a)(c),n=e.findIndex((function(e){return e.id===t.id}));-1===n?e.push(Object(i.a)({},t)):e[n].quantity=e[n].quantity+t.quantity,r(e),E(e)},countProducts:function(){var t=0;return c.forEach((function(e){t+=e.quantity})),t},removeProduct:function(t){var e=Object(o.a)(c),n=e.findIndex((function(e){return e.id===t.id}));-1!==n?e[n].quantity>1?e[n].quantity=e[n].quantity-1:e.splice(n,1):console.log("Product not found"),r(e),E(e)},isEmptyCart:function(){try{return 0===c.length}catch(t){return!0}},clearCart:function(){r([]),E()},totalPrice:q,order:I,setOrder:T,setUser:j,isEmptyUser:function(){try{return!(u.email.length>2&&u.name.length>2&&u.phone.length>2)}catch(t){return!0}},user:u,clearUser:function(){j({name:"",email:"",phone:""})},openLoadingModal:y,setOpenLoadingModal:N,openFormModal:k,setOpenFormModal:S,paySimulator:h,getUserId:function(){return u.id},getOrderId:function(){return I.id},clearOrder:function(){r([]),T({id:""})},setPaySimulator:p},children:e})},y=(n(42),n(12)),N=n(14);n(54);function C(t){var e=a.a.useContext(v).addProduct,n=t.product;return Object(f.jsx)("div",{className:"col-3 container",children:Object(f.jsxs)("div",{className:"card card-item-main",children:[Object(f.jsx)("img",{className:"card-img-top card-img-item",src:n.picture_url,alt:" img "}),Object(f.jsxs)("div",{className:"card-body div-card-text-inner",children:[Object(f.jsx)("h5",{className:"card-title card-text-inner",children:n.title}),Object(f.jsx)("p",{className:"card-text card-text-inner",children:Object(f.jsxs)("small",{className:"text-muted",children:[n.price,"$"]})}),n.stock<5?Object(f.jsxs)("p",{className:"card-text text-danger card-text-inner",children:["Hurry up! Only ",n.stock," left in stock"]}):Object(f.jsxs)("p",{className:"card-text text-success card-text-inner",children:[n.stock," left in stock"]}),Object(f.jsxs)("div",{className:"card-text-inner",children:[Object(f.jsx)(y.b,{to:"/item/".concat(n.id),className:"btn btn-primary card-button-inner",children:"View"}),Object(f.jsx)(y.b,{to:"",onClick:function(){e(Object(i.a)(Object(i.a)({},n),{},{quantity:1,price_total:n.price}))},className:"btn btn-primary card-button-inner",children:"Add to cart"})]})]})]})})}function w(t){var e=t.dataProducts;return Object(f.jsx)("div",{className:"card-group",children:e.map((function(t){return Object(f.jsx)(C,{product:t},t.id)}))})}var k=function(){var t=Object(j.a)(u.a.mark((function t(e,n){var c,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(!0),c=Object(m.b)(h(),"products"),t.next=4,Object(m.d)(c);case 4:a=t.sent,r=a.docs.map((function(t){return Object(i.a)({id:t.id},t.data())})),e(r),n(!1);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),S=function(){var t=Object(j.a)(u.a.mark((function t(e,n,c){var a,r,s,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),a=Object(m.b)(h(),"products"),r=Object(m.f)(a,Object(m.h)("category","==",e)),t.prev=3,t.next=6,Object(m.d)(r);case 6:s=t.sent,o=s.docs.map((function(t){return Object(i.a)({id:t.id},t.data())})),n(o),c(!1),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e,n,c){return t.apply(this,arguments)}}();function P(t){var e=t.searchValue,n=Object(N.f)().categoryId,c=a.a.useState([]),r=Object(l.a)(c,2),s=r[0],i=r[1],o=a.a.useContext(v).setOpenLoadingModal;return a.a.useEffect((function(){n?S(n,i,o):k(i,o)}),[n]),Object(f.jsx)(w,{dataProducts:s.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())}))})}n(62);function F(t){var e=t.count;return Object(f.jsxs)("div",{className:"cart-widget-div",children:[Object(f.jsx)("img",{className:"img-navbar-cart",alt:"",src:"https://github.com/anthonyperniah/anthonyperniah-shop/blob/master/src/img/cart_shop.png?raw=true"}),e>0&&Object(f.jsx)("p",{className:"cart-widget-text",children:e})]})}n(63);function I(t){var e=t.searchValue,n=t.setSearchValue,c=a.a.useContext(v),r=c.countProducts,s=c.setOpenFormModal;return Object(f.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(f.jsx)(y.b,{to:"/",className:"navbar-brand",href:"#",children:"Anthony-Shop"}),Object(f.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(f.jsx)("span",{className:"navbar-toggler-icon"})}),Object(f.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(f.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(f.jsx)("li",{className:"nav-item active",children:Object(f.jsxs)(y.c,{to:"/",className:"nav-link",href:"#",children:["Home",Object(f.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(f.jsxs)("li",{className:"nav-item dropdown",children:[Object(f.jsx)("span",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Categories"}),Object(f.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(f.jsx)("span",{className:"dropdown-item",href:"#",children:Object(f.jsxs)(y.c,{to:"/category/".concat(1),className:"nav-link",href:"#",children:["White Color",Object(f.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(f.jsx)("div",{className:"dropdown-divider"}),Object(f.jsx)("span",{className:"dropdown-item",href:"#",children:Object(f.jsxs)(y.c,{to:"/category/".concat(2),className:"nav-link",href:"#",children:["Black Color",Object(f.jsx)("span",{className:"sr-only",children:"(current)"})]})})]})]}),Object(f.jsx)("li",{className:"nav-item",children:Object(f.jsxs)("nav",{className:"nav-link",onClick:function(){s((function(t){return!t}))},href:"#",children:["User Profile",Object(f.jsx)("span",{className:"sr-only",children:"(current)"})]})})]}),Object(f.jsx)("input",{onChange:function(t){n(t.target.value)},value:e,className:"form-control col-4 mr-sm-2",type:"search",placeholder:"Search your T-shirt","aria-label":"Search"}),Object(f.jsx)(y.b,{to:"/cart",style:{textDecoration:"none"},children:Object(f.jsx)(F,{count:r()})})]})]})}function T(t){var e=t.dataCartCount,n=t.setDataCartCount,c=t.stock;return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"row justify-content-center",children:Object(f.jsx)("h2",{className:"d-flex justify-content-center",children:e})}),Object(f.jsxs)("div",{className:"row justify-content-center",children:[Object(f.jsx)("button",{className:"col-2 btn btn-outline-dark ml-4 mr-4",onClick:function(){return c>e?n(e+1):alert("No hay mas Stock")},children:" + "}),Object(f.jsx)("button",{className:"col-2 btn btn-outline-dark ml-4 mr-4",onClick:function(){return e>0?n(e-1):alert("Ya sacaste todos los productos de su carrito")},children:" - "})]})]})}function E(t){var e=t.product,n=Object(c.useContext)(v).addProduct,r=a.a.useState(1),s=Object(l.a)(r,2),o=s[0],d=s[1];return Object(f.jsx)("div",{className:"card container",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("img",{className:"col-6 card-img-top",src:e.picture_url,alt:""}),Object(f.jsxs)("div",{className:"col-6 card-body ",children:[Object(f.jsx)("h5",{className:"card-title d-flex justify-content-center",children:e.title}),Object(f.jsx)("p",{className:"card-text d-flex justify-content-center",children:e.description}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{className:"card-text d-flex justify-content-center",children:[e.stock," Products in stock"]}),Object(f.jsx)(T,{data_button:" + ",dataCartCount:o,setDataCartCount:d,stock:e.stock}),Object(f.jsx)("div",{className:"row justify-content-center",children:o>0?Object(f.jsx)(y.b,{to:"/cart/",onClick:function(){n(Object(i.a)(Object(i.a)({},e),{},{quantity:o,price_total:e.price*o}))},className:"col-2 btn btn-outline-dark ml-4 mr-4 mt-4",children:" Buy "}):""})]})]})]})})}var q=function(){var t=Object(j.a)(u.a.mark((function t(e,n,c,a){var r,s,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),r=Object(m.b)(h(),"products"),s=Object(m.f)(r,Object(m.h)("__name__","==",a)),t.prev=3,t.next=6,Object(m.d)(s);case 6:o=t.sent,l=o.docs.map((function(t){return Object(i.a)({id:t.id},t.data())})),n(l[0]),c(!1),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e,n,c,a){return t.apply(this,arguments)}}();function M(){var t=a.a.useState([]),e=Object(l.a)(t,2),n=e[0],c=e[1],r=a.a.useContext(v).setOpenLoadingModal,s=Object(N.f)().id,i=a.a.useState(!1),o=Object(l.a)(i,1)[0];return a.a.useEffect((function(){try{q(n,c,r,s)}catch(t){o(!0),console.log(t)}}),[]),Object(f.jsx)(a.a.Fragment,{children:void 0!==n?Object(f.jsx)(E,{product:n}):Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Error Item not found..."}),Object(f.jsx)(y.b,{to:"/",className:"btn btn-primary cart-item-list-button",children:"Return to Home"})]})})}n(64),n(65);function L(t){var e=t.product,n=t.removeProduct;return Object(f.jsxs)("div",{className:"cart-item-pay-center ",children:[Object(f.jsx)("div",{className:"col-md-6",children:Object(f.jsx)("img",{className:"img-cart",src:e.picture_url,alt:"img"})}),Object(f.jsxs)("div",{className:"col-md-6 ",children:[Object(f.jsx)("br",{}),Object(f.jsxs)("p",{className:"cart-products-subtitle",children:["Product = ",e.title]}),Object(f.jsxs)("p",{className:"cart-products-subtitle",children:["Total Price = ",e.price*e.quantity," (",e.price," PPU x ",e.quantity," Units)"]}),e.quantity>0&&Object(f.jsx)("button",{className:"btn btn-primary cart-item-list-button-remove ",onClick:function(){return n(e)},children:"Remove"})]})]})}n(66);function D(){var t=a.a.useContext(v),e=t.products,n=t.removeProduct,c=t.clearCart,r=t.getOrderId,s=t.setOpenFormModal,i=t.setOpenLoadingModal,o=t.user;i(!1);return Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsx)("p",{className:"cart-products-title",children:"Products in Cart"}),e.length>0&&e.map((function(t){return t.quantity>0&&Object(f.jsx)("div",{className:"row justify-content-center",children:Object(f.jsx)(L,{product:t,removeProduct:n})},t.id)})),Object(f.jsxs)("div",{className:"cart-item-list-div",children:[Object(f.jsx)("button",{onClick:function(){return c()},className:"btn btn-primary cart-item-list-button",children:"Remove all items from your cart"}),o.name?Object(f.jsx)(y.b,{to:"/payment/".concat(r()),className:"btn btn-primary cart-item-list-button",children:"Continue to pay"}):Object(f.jsx)("button",{onClick:function(){s(!0)},className:"btn btn-primary cart-item-list-button",children:"You must register before continue "})]})]})}function U(){var t=a.a.useContext(v).countProducts;return Object(f.jsx)("div",{className:"container",children:t()>0?Object(f.jsx)(D,{}):Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("p",{className:"cart-products-title",children:"The cart is empty"}),Object(f.jsx)(y.b,{to:"/",className:"btn btn-primary ",children:"Return to Home"})]})})}function V(){return Object(f.jsx)(U,{})}n(67);function _(){var t=a.a.useContext(v),e=t.setUser,n=t.setOpenLoadingModal,c=t.setOpenFormModal,r=t.isEmptyUser,s=t.clearUser;n(!1);var i={id:"99999999",name:"",email:"",phone:""},o=function(){c(!1)};return Object(f.jsx)(a.a.Fragment,{children:r()?Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault(),i.name.length>1&&i.phone.length>1&&i.email.length>1&&i.emailValidate===i.email&&(e(i),c(!1))},children:[Object(f.jsx)("label",{children:"Enter your data"}),Object(f.jsx)("input",{type:"text",onChange:function(t){i.name=t.target.value},placeholder:"Name"}),Object(f.jsx)("input",{type:"email",onChange:function(t){i.email=t.target.value},placeholder:"Please enter Email"}),Object(f.jsx)("input",{type:"email",onChange:function(t){i.emailValidate=t.target.value},placeholder:"Please enter Email again"}),Object(f.jsx)("input",{type:"text",onChange:function(t){i.phone=t.target.value},placeholder:"Phone"}),Object(f.jsxs)("div",{className:"TodoForm-buttonContainer",children:[Object(f.jsx)("button",{type:"button",className:"TodoForm-button TodoForm-button-cancel",onClick:o,children:"Cancel"}),Object(f.jsx)("button",{className:"TodoForm-button TodoForm-button-add",type:"submit",children:"Accept"})]})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"TodoForm-button TodoForm-button-add",onClick:function(){o()},children:"Cancel"}),Object(f.jsx)("button",{className:"TodoForm-button TodoForm-button-add",onClick:function(){s()},children:"Delete user"})]})})}n(68);function B(t){var e=t.children;return s.a.createPortal(Object(f.jsx)("div",{className:"ModalBackground",children:e}),document.getElementById("modal"))}n(69);function J(){return Object(f.jsx)("div",{className:"loading-div container ",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-md-12 spinner-center ",children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"spinner-grow",role:"status"}),Object(f.jsx)("div",{className:" spinner-grow",role:"status"}),Object(f.jsx)("div",{className:"  spinner-grow",role:"status"})]})})})})}n(70),n(71);function H(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Payment List"}),Object(f.jsx)("ul",{children:t.products.map((function(t){return Object(f.jsx)("li",{children:Object(f.jsxs)("p",{children:[t.title," * ",t.quantity]})},t.id)}))})]})}function R(t){return Object(f.jsxs)("div",{className:"payment-card",children:[Object(f.jsx)(H,{products:t.products}),Object(f.jsxs)("h1",{children:["Total = ",t.totalPrice]})]})}function Y(){var t=a.a.useContext(v),e=t.products,n=t.order,c=t.totalPrice,r=t.setOrder,s=t.setOpenLoadingModal,i=t.paySimulator,o=t.clearOrder,l=t.setPaySimulator,d=t.user;s(!1);var u=function(){x("paid",e,n,r,c,d,s),setTimeout((function(){l(!1),console.log("PaySimulator",i)}),3e3),l(!0),console.log("PaySimulator",i),o()};return Object(f.jsx)(a.a.Fragment,{children:Object(f.jsx)("div",{className:"finish-pay-div",children:function(){try{return d.email.length>0&&d.name.length>0&&d.phone.length>0&&e.length>0}catch(t){return!1}}()?Object(f.jsxs)("div",{children:[Object(f.jsx)(R,{products:e,totalPrice:c()}),Object(f.jsx)("button",{onClick:function(){return u()},className:"btn btn-primary cart-item-list-button",children:"Finish Payment"})]}):Object(f.jsx)(y.b,{to:"/",className:"btn btn-primary cart-item-list-button",children:"Return to Home"})})})}n(72);function A(){var t=a.a.useContext(v),e=t.user,n=t.order;return Object(f.jsxs)("div",{className:"loading-pay-simulator-div container ",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"col-md-12",children:[Object(f.jsxs)("h1",{className:"title-pay-simulator",children:["Thanks for your order ",e.name,"!"]}),Object(f.jsx)("h2",{className:"subtitle-pay-simulator",children:"You will recieve a mail with details"}),Object(f.jsxs)("h2",{className:"subtitle-pay-simulator",children:["Your order is : ",n.id]}),Object(f.jsx)("h2",{className:"subtitle-pay-simulator",children:"Wait.. 3 secs"})]})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-md-12 spinner-center ",children:Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"spinner-grow",role:"status"}),Object(f.jsx)("div",{className:" spinner-grow",role:"status"}),Object(f.jsx)("div",{className:"  spinner-grow",role:"status"})]})})})]})}function W(){var t=a.a.useState(""),e=Object(l.a)(t,2),n=e[0],c=e[1],r=a.a.useContext(v),s=r.openLoadingModal,i=r.openFormModal,o=r.paySimulator;return Object(f.jsxs)(y.a,{children:[Object(f.jsx)(I,{searchValue:n,setSearchValue:c}),Object(f.jsxs)(N.c,{children:[Object(f.jsx)(N.a,{exact:!0,path:["/","/category/:categoryId"],children:Object(f.jsx)(P,{searchValue:n})}),Object(f.jsx)(N.a,{exact:!0,path:"/item/:id",children:Object(f.jsx)(M,{})}),Object(f.jsx)(N.a,{exact:!0,path:"/item/:id",children:Object(f.jsx)(M,{})}),Object(f.jsx)(N.a,{exact:!0,path:"/cart/",children:Object(f.jsx)(V,{})}),Object(f.jsx)(N.a,{exact:!0,path:"/payment/:id",children:Object(f.jsx)(Y,{})})]}),(s||i||o)&&Object(f.jsxs)(B,{children:[s&&Object(f.jsx)(J,{}),i&&Object(f.jsx)(_,{}),o&&Object(f.jsx)(A,{})]})]})}var z=function(){return Object(f.jsx)(g,{children:Object(f.jsx)(W,{})})},K=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),r(t),s(t)}))};s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(z,{})}),document.getElementById("root")),K()}},[[73,1,2]]]);
//# sourceMappingURL=main.571a2ce4.chunk.js.map